/* Base Tailwind entry file.
    Note: Filament-specific customizations live in resources/css/filament/admin/theme.css */

/* Import component-specific styles */
@import "task-comments.css";
@import "drag-to-scroll.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    /* Removed forced black text for dark mode buttons; rely on Filament defaults. */

    /* Removed custom scrollbar styling to use browser defaults and prevent status color interference */
}

select {
    appearance: none;
    background-image: none;
}

/* Global Tooltip Styles */
.tooltip-container:hover .tooltip {
    opacity: 1;
    visibility: visible;
}

/* Tooltip smart positioning classes */
.tooltip-container .tooltip {
    /* Allow tooltips to break out of modal containers */
    transition: all 0.2s ease-in-out;
}

/* Smart positioning classes - override default positioning */
.tooltip-container .tooltip.smart-top {
    bottom: 100% !important;
    left: 50% !important;
    right: auto !important;
    top: auto !important;
    transform: translateX(-50%) translateY(-4px) !important;
}

/* Smart bottom position animation */
.tooltip-container .tooltip.smart-bottom {
    top: 100% !important;
    left: 50% !important;
    right: auto !important;
    bottom: auto !important;
    transform: translateX(-50%) translateY(4px) !important;
}

/* Smart left position animation */
.tooltip-container .tooltip.smart-left {
    right: 100% !important;
    top: 50% !important;
    left: auto !important;
    bottom: auto !important;
    transform: translateY(-50%) translateX(-4px) !important;
}

/* Smart right position animation */
.tooltip-container .tooltip.smart-right {
    left: 100% !important;
    top: 50% !important;
    right: auto !important;
    bottom: auto !important;
    transform: translateY(-50%) translateX(4px) !important;
}

/* Adjust alignment for smart positioning */
.tooltip-container .tooltip.smart-start {
    left: 0 !important;
    right: auto !important;
    transform: translateX(0) !important;
}

/* Smart end position animation */
.tooltip-container .tooltip.smart-end {
    right: 0 !important;
    left: auto !important;
    transform: translateX(0) !important;
}

/* Smart center position animation */
.tooltip-container .tooltip.smart-center {
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%) !important;
}

/* Smart alignment combinations */
.tooltip-container .tooltip.smart-top.smart-start {
    transform: translateX(0) translateY(-4px) !important;
}

/* Smart top end position animation */
.tooltip-container .tooltip.smart-top.smart-end {
    transform: translateX(0) translateY(-4px) !important;
}

/* Smart bottom start position animation */
.tooltip-container .tooltip.smart-bottom.smart-start {
    transform: translateX(0) translateY(4px) !important;
}

/* Smart bottom end position animation */
.tooltip-container .tooltip.smart-bottom.smart-end {
    transform: translateX(0) translateY(4px) !important;
}

/* Tooltip top position animation */
.tooltip-container:hover .tooltip-top {
    transform: translateX(-50%) translateY(-4px);
}

/* Tooltip bottom position animation */
.tooltip-container:hover .tooltip-bottom {
    transform: translateX(-50%) translateY(4px);
}

/* Hide tooltips on mobile/touch devices */
@media (hover: none) and (pointer: coarse) {
    /* Hide custom tooltips */
    .tooltip-container:hover .tooltip,
    .tooltip-container:hover .tooltip-top,
    .tooltip-container:hover .tooltip-bottom {
        opacity: 0 !important;
        visibility: hidden !important;
    }

    /* Hide Filament/Tippy.js tooltips */
    [data-tippy-root],
    .tippy-box {
        display: none !important;
    }
}

/* Global: Reusable bounce animation */
@keyframes bounce-up-down {
    0%,
    100% {
        transform: translateY(0) scaleX(1) scaleY(1);
        animation-timing-function: cubic-bezier(0.2, 0.6, 0.2, 1);
    }
    40% {
        transform: translateY(8px) scaleX(1.04) scaleY(0.96);
        animation-timing-function: cubic-bezier(0.4, 0, 1, 1);
    }
    60% {
        transform: translateY(-2px) scaleX(0.99) scaleY(1.01);
        animation-timing-function: cubic-bezier(0.2, 0.6, 0.2, 1);
    }
}

/* Smaller bounce animation with reduced movement */
@keyframes bounce-up-down-small {
    0%,
    100% {
        transform: translateY(0) scaleX(1) scaleY(1);
        animation-timing-function: cubic-bezier(0.2, 0.6, 0.2, 1);
    }
    40% {
        transform: translateY(3px) scaleX(1.02) scaleY(0.98);
        animation-timing-function: cubic-bezier(0.4, 0, 1, 1);
    }
    60% {
        transform: translateY(-1px) scaleX(0.99) scaleY(1.01);
        animation-timing-function: cubic-bezier(0.2, 0.6, 0.2, 1);
    }
}

.bounce-bounce {
    animation: bounce-up-down 3s infinite;
    will-change: transform;
    transform-origin: center bottom;
}

.bounce-bounce-s {
    animation: bounce-up-down-small 3s infinite;
    will-change: transform;
    transform-origin: center bottom;
}

@media (prefers-reduced-motion: reduce) {
    .bounce-bounce,
    .bounce-bounce-s {
        animation: none;
    }
}

/* Marquee Scrolling Animation (for long text like track names) */
@keyframes marquee-loop {
    0%,
    25% {
        transform: translateX(0);
    }
    65%,
    85% {
        transform: translateX(calc(-100% + 10rem));
    }
    100% {
        transform: translateX(0);
    }
}

.track-marquee {
    display: inline-block;
    animation: marquee-loop 12s linear infinite;
    will-change: transform;
}

/* Pause animation on hover for parent container */
.track-name-container:hover .track-marquee {
    animation-play-state: paused;
}

/* Disable animation for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    .track-marquee {
        animation: none;
    }
}

/* Loading spinner animation fallback */
@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.animate-spin {
    animation: spin 1s linear infinite;
}

/* Disable spinner animation for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    .animate-spin {
        animation: none;
    }
}
